% 이 파일은 실험용인데, 꽤 중요함. 9차식 수치해석에 앞서서 variation을 대략 10^몇승 줘야할지 찍는용도.

x1 = 471; %% 도착점 (x1,y1)의 x좌표 값
y1 = 319.5; %% 도착점 (x1,y1)의 y좌표 값
a = 4.2/3.6; %% 속도식 v = asqrt(r-b)에서 사용되는 a
b = 70; %% 속도식 v = asqrt(r-b)에서 사용되는 b
a2 = 0*10^(-12); %% a2값
a3 = 0*10^(-17); %% a3값
a4 = 0*10^(-22); %% a4값
v = 100/3.6; %% 속도: 지하철은 100/3.6, SRT는 300/3.6

% plotfun: 9차식 그래프그리는용도
plotfun = @(x) y1/x1.*x-y1/(2*(x1)^3).*x.*(x.^2-(x1)^2)+a2.*x.*(x.^2-(x1)^2).^2+a3.*x.*(x.^2-(x1)^2).^3+a4.*x.*(x.^2-(x1)^2).^4;
% fun: 적분 안에 때려넣을것
fun = @(x) 2.*(1+(y1./x1-y1./(2.*(x1).^3).*(3.*x.^2-(x1).^2)+a2.*(x.^2-(x1).^2).*(5.*x.^2-(x1).^2)+a3.*(x.^2-(x1).^2).^2.*(7.*x.^2-(x1).^2)+a4.*(x.^2-(x1).^2).^3.*(9.*x.^2-(x1).^2)).^2).^(1/2)./(a.*((1+(y1./x1-y1./(2.*(x1).^3).*(3.*x.^2-(x1).^2)+a2.*(x.^2-(x1).^2).*(5.*x.^2-(x1).^2)+a3.*(x.^2-(x1).^2).^2.*(7.*x.^2-(x1).^2)+a4.*(x.^2-(x1).^2).^3.*(9.*x.^2-(x1).^2)).^2).^(3/2)./((-3.*y1./(x1).^3.*x+a2.*(20.*x.^3-12.*(x1).^2.*x)+a3.*(x.^2-(x1).^2).*(42.*x.^3-18.*(x1).^2.*x)+a4.*(x.^2-(x1).^2).^2.*(72.*x.^3-24.*(x1).^2.*x)).^2).^(1/2)-b).^(1/2)+v-((a.*((1+(y1./x1-y1./(2.*(x1).^3).*(3.*x.^2-(x1).^2)+a2.*(x.^2-(x1).^2).*(5.*x.^2-(x1).^2)+a3.*(x.^2-(x1).^2).^2.*(7.*x.^2-(x1).^2)+a4.*(x.^2-(x1).^2).^3.*(9.*x.^2-(x1).^2)).^2).^(3/2)./((-3.*y1./(x1).^3.*x+a2.*(20.*x.^3-12.*(x1).^2.*x)+a3.*(x.^2-(x1).^2).*(42.*x.^3-18.*(x1).^2.*x)+a4.*(x.^2-(x1).^2).^2.*(72.*x.^3-24.*(x1).^2.*x)).^2).^(1/2)-b).^(1/2)-v).^2).^(1/2));
integral(fun,0,x1)
fplot(plotfun,[0,x1])

%T0 = timetime(x1, y1, a, b, 0, 0, 0, v);