% 일반적으로 위치와 방향이 주어진 두 점을 다항식으로 잘 연결해보자!
%출발점 조건: (0,0), slope = 0
%도착점 조건:
x1 = 2682; %% 도착점 (x1,y1)의 x좌표 값
y1 = 308; %% 도착점 (x1,y1)의 y좌표 값
m = 1.877; %% 도착점의 기울기 값
a = 4.2/3.6; %% 속도식 v = asqrt(r-b)에서 사용되는 a
b = 70; %% 속도식 v = asqrt(r-b)에서 사용되는 b
a2 = 0*10^(-12); %% a2값
a3 = 0*10^(-17); %% a3값
a4 = 0*10^(-22); %% a4값
v = 100/3.6; %% 속도: 지하철은 100/3.6, SRT는 300/3.6

% 2.*(1+(f').^2).^(1/2)./(a.*((1+(f').^2).^(3/2)./((f'').^2).^(1/2)-b).^(1/2)+v-((a.*((1+(f').^2).^(3/2)./((f'').^2).^(1/2)-b).^(1/2)-v).^2).^(1/2));
% p = x.^2.*(y1/(x1)^2+(m*(x1)-2*y1)/(x1)^3.*(x-x1)+a2.*(x-x1).^2+a3.*(x-x1).^3+a4.*(x-x1).^4)
% p' = 1/(x1)^3.*x.*(m.*(3.*x-2*x1).*x1+(x-x1).*((x1)^3.*(a2.*(4.*x-2*x1)+(x-x1).*(x.*(5.*a3+6.*a4.*x)-2.*(a3+4.*a4.*x).*x1+2.*a4.*(x1)^2))-6*y1))
% p'' = (1./((x1)^3)).*2.*(m.*(3.*x-x1).*x1+(x1)^3.*(a2.*(6.*x.^2-6.*x.*x1+(x1).^2)+(x-x1).*(a4.*(x-x1).*(15.*x.^2-10.*x.*x1+(x1).^2)+a3.*(10.*x.^2-8.*x.*x1+(x1)^2)))+3.*(-2.*x+x1).*y1)


% plotfun: 6차식 그래프그리는용도
plotfun = @(x) x.^2.*(y1/(x1)^2+(m*x1-2*y1)/(x1)^3.*(x-x1)+a2.*(x-x1).^2+a3.*(x-x1).^3+a4.*(x-x1).^4);
% fun: 적분 안에 때려넣을것

fun = @(x) 2.*(1+(1/(x1)^3.*x.*(m.*(3.*x-2*x1).*x1+(x-x1).*((x1)^3.*(a2.*(4.*x-2*x1)+(x-x1).*(x.*(5.*a3+6.*a4.*x)-2.*(a3+4.*a4.*x).*x1+2.*a4.*(x1)^2))-6*y1))).^2).^(1/2)./(a.*((1+(1/(x1)^3.*x.*(m.*(3.*x-2*x1).*x1+(x-x1).*((x1)^3.*(a2.*(4.*x-2*x1)+(x-x1).*(x.*(5.*a3+6.*a4.*x)-2.*(a3+4.*a4.*x).*x1+2.*a4.*(x1)^2))-6*y1))).^2).^(3/2)./(((1./((x1)^3)).*2.*(m.*(3.*x-x1).*x1+(x1)^3.*(a2.*(6.*x.^2-6.*x.*x1+(x1).^2)+(x-x1).*(a4.*(x-x1).*(15.*x.^2-10.*x.*x1+(x1).^2)+a3.*(10.*x.^2-8.*x.*x1+(x1)^2)))+3.*(-2.*x+x1).*y1)).^2).^(1/2)-b).^(1/2)+v-((a.*((1+(1/(x1)^3.*x.*(m.*(3.*x-2*x1).*x1+(x-x1).*((x1)^3.*(a2.*(4.*x-2*x1)+(x-x1).*(x.*(5.*a3+6.*a4.*x)-2.*(a3+4.*a4.*x).*x1+2.*a4.*(x1)^2))-6*y1))).^2).^(3/2)./(((1./((x1)^3)).*2.*(m.*(3.*x-x1).*x1+(x1)^3.*(a2.*(6.*x.^2-6.*x.*x1+(x1).^2)+(x-x1).*(a4.*(x-x1).*(15.*x.^2-10.*x.*x1+(x1).^2)+a3.*(10.*x.^2-8.*x.*x1+(x1)^2)))+3.*(-2.*x+x1).*y1)).^2).^(1/2)-b).^(1/2)-v).^2).^(1/2));
integral(fun,0,x1)
fplot(plotfun,[0,x1])